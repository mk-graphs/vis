<!DOCTYPE html>
<html>
<head>
    <title>Dynamic Logarithm Graph</title>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/jsxgraph@1.7.0/distrib/jsxgraph.css" />
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jsxgraph@1.7.0/distrib/jsxgraphcore.js"></script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 20px;
            background-color: #f5f5f5;
        }
        #jxgbox {
            width: 800px;
            height: 500px;
            border: 2px solid black;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            background-color: #fff;
        }
        .controls {
            width: 800px;
            margin-top: 20px;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            text-align: center;
        }
        .control-group {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
        }
        .control-group label {
            width: 150px;
            font-weight: bold;
        }
        .control-group input[type="range"] {
            width: 300px;
        }
        .control-group span {
            margin-left: 10px;
            width: 40px;
            text-align: right;
            font-family: 'Courier New', Courier, monospace;
        }
        .explanation {
            width: 800px;
            margin-top: 20px;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            line-height: 1.6;
            text-align: left;
        }
        .explanation h3 {
            color: #333;
        }
        .explanation ul {
            list-style-type: disc;
            padding-left: 20px;
        }
        .explanation li {
            margin-bottom: 10px;
        }
        code {
            background-color: #f0f0f0;
            padding: 2px 4px;
            border-radius: 4px;
            font-family: 'Courier New', Courier, monospace;
        }
        .quiz {
            margin-top: 20px;
            padding: 20px;
            background-color: #e9f5ff;
            border: 1px solid #b3e0ff;
            border-radius: 8px;
            width: 800px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .quiz button {
            margin-top: 10px;
            padding: 8px 15px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .quiz button:hover {
            background-color: #0056b3;
        }
        .quiz #answer {
            margin-top: 10px;
            font-weight: bold;
            color: #28a745;
            display: none; /* Initially hidden */
        }
    </style>
</head>
<body>

    <h2 style="text-align: center;">The Compression Effect of Logarithms</h2>
    <div id="jxgbox" class="jxgbox"></div>
    
    <div class="controls">
        <div class="control-group">
            <label for="base-slider">Base (b):</label>
            <input type="range" id="base-slider" min="1.1" max="5" value="2" step="0.1">
            <span id="base-value">2.0</span>
        </div>
        <div style="font-style: italic; color: #555;">
            Drag the slider to change the base of the exponential and logarithmic functions.
        </div>
    </div>

    <div class="explanation">
        <h3>Mathematical Principles and Explanations</h3>
        <p>This interactive graph is designed to demonstrate the core relationship between <b>exponential functions</b> ($$y = b^x$$) and <b>logarithmic functions</b> ($$y = \log_b(x)$$).</p>
        
        <ul>
            <li>
                <h4>Inverse Functions</h4>
                <p>The most important takeaway is that the blue curve (exponential function $$y = b^x$$) and the red curve (logarithmic function $$y = \log_b(x)$$) are <b>inverse functions</b> of each other. This means they "undo" each other's operation. For example, $$\log_b(b^x) = x$$.</p>
                <p>Geometrically, the graphs of inverse functions are always symmetrical with respect to the line $$y = x$$. The gray dashed line in the graph represents $$y = x$$, and you can see how the blue and red curves mirror each other across this line.</p>
            </li>
            <li>
                <h4>The Effect of the Base `b`</h4>
                <p>The slider allows you to change the value of the base `b`. Observe what happens as you adjust it:</p>
                <ul>
                    <li>As `b` <b>increases</b>, the <b>exponential function</b> ($$y = b^x$$) grows <b>faster</b>, and its curve becomes steeper.</li>
                    <li>Conversely, the <b>logarithmic function</b> ($$y = \log_b(x)$$) grows <b>slower</b>, and its curve becomes flatter.</li>
                </ul>
                <p>This illustrates the "compression effect" of logarithms, which allows them to effectively handle and represent values that span a vast range, such as in the Richter scale for earthquakes or decibels for sound intensity.</p>
            </li>
            <li>
                <h4>Domain and Range</h4>
                <p>Another key relationship between these functions is in their domain and range:</p>
                <ul>
                    <li>The <b>exponential function's</b> ($$y = b^x$$) <b>domain</b> (all possible x-values) is all real numbers, and its <b>range</b> (all possible y-values) is all positive numbers.</li>
                    <li>The <b>logarithmic function's</b> ($$y = \log_b(x)$$) <b>domain</b> is all positive numbers, and its <b>range</b> is all real numbers.</li>
                </ul>
                <p>This is a fundamental property of inverse functions: the domain of one is the range of the other, and vice versa.</p>
            </li>
        </ul>
    </div>
    
    <div class="quiz">
        <h3>Test Your Knowledge</h3>
        <p>Using the graph and your understanding of inverse functions, if the exponential function passes through the point \( (2, 9) \), what point must the logarithmic function pass through?</p>
        <ol type="A">
            <li>(9, 2)</li>
            <li>(2, 9)</li>
            <li>(3, 2)</li>
            <li>(2, 3)</li>
        </ol>
        <button onclick="showAnswer()">Show Answer</button>
        <p id="answer">The correct answer is A. Since exponential and logarithmic functions are inverses, they reverse the x and y coordinates. If the exponential function has the point (2, 9), the inverse logarithmic function must have the point (9, 2).</p>
    </div>

    <script>
        // --- 1. JSXGraph Board Setup ---
        const board = JXG.JSXGraph.initBoard('jxgbox', {
            boundingbox: [-10, 20, 20, -10],
            axis: true,
            showCopyright: false,
            pan: { enabled: false },
            zoom: { enabled: false }
        });
        
        // --- 2. Sliders and Control Logic ---
        const baseSlider = document.getElementById('base-slider');
        const baseValueSpan = document.getElementById('base-value');
        
        let base = parseFloat(baseSlider.value);

        // Function to update displayed values and redraw graphs
        function updateGraphs() {
            base = parseFloat(baseSlider.value);
            baseValueSpan.textContent = base.toFixed(1);
            board.update();
        }

        baseSlider.addEventListener('input', updateGraphs);
        
        // --- 3. Mathematical Functions ---
        
        // Exponential function: y = b^x
        const expFunc = function(x) {
            return Math.pow(base, x);
        };
        
        // Logarithmic function: y = log_b(x)
        const logFunc = function(x) {
            return Math.log(x) / Math.log(base);
        };
        
        // --- 4. Drawing the Graph Elements ---
        
        // Draw the line y = x, for showing symmetry
        board.create('functiongraph', [function(x){ return x; }], {
            strokeColor: '#aaa',
            strokeWidth: 1,
            dash: 2,
            fixed: true
        });
        
        // Draw the exponential function
        board.create('functiongraph', [expFunc], {
            strokeColor: 'blue',
            strokeWidth: 3,
            name: 'y = b^x',
            withLabel: true,
            label: {
                position: 'urt',
                offset: [-10, -10]
            }
        });
        
        // Draw the logarithmic function
        board.create('functiongraph', [logFunc], {
            strokeColor: 'red',
            strokeWidth: 3,
            name: 'y = log_b(x)',
            withLabel: true,
            label: {
                position: 'llt',
                offset: [10, 10]
            }
        });
        
        // Initial graph update
        updateGraphs();
        
        // --- 5. Quiz Logic ---
        function showAnswer() {
            const answerElement = document.getElementById('answer');
            if (answerElement.style.display === 'none') {
                answerElement.style.display = 'block';
            } else {
                answerElement.style.display = 'none';
            }
        }
    </script>
</body>
</html>