<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Antiderivative Visualization</title>
<script src="https://cdn.jsdelivr.net/npm/jsxgraph/distrib/jsxgraphcore.js"></script>
<script async id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jsxgraph/distrib/jsxgraph.css" />
<style>
  body {
    font-family: Arial, sans-serif;
    max-width: 750px;
    padding: 20px;
    margin: 0 auto;
  }
  #box {
    width: 700px;
    height: 450px;
    border: 1px solid #ccc;
    margin-bottom: 20px;
  }
  #explanation {
    background: #eef6fb;
    border-left: 4px solid #2196F3;
    padding: 12px 20px;
    margin-bottom: 20px;
    font-size: 0.95em;
    line-height: 1.5;
    color: #333;
  }
  #controls {
    margin-top: 15px;
    padding: 10px;
    background: #f9f9f9;
    border: 1px solid #ddd;
  }
  #sliderC {
    width: 400px;
  }
  #quiz {
    margin-top: 25px;
    padding: 15px;
    background: #fff8e1;
    border: 1px solid #f0c36d;
  }
  #quiz h3 {
    margin-top: 0;
  }
  #result {
    margin-top: 10px;
    font-weight: bold;
  }
</style>
</head>
<body>

<h2>Antiderivative (Integral) Visualization</h2>


<div id="explanation">
  <strong>Concept Explanation:</strong><br />
  The antiderivative (indefinite integral) of a function \( f(x) \) is a family of functions \( F(x) \) such that
  \[
    F'(x) = f(x).
  \]
  The constant of integration \( C \) shifts the antiderivative vertically:
  \[
    F(x) = \int f(x)\,dx + C.
  \]
  In this example,
  \[
    f(x) = 2x + 1, \quad F(x) = x^2 + x + C.
  \]
  This visualization shows both \( f(x) \) (blue line) and its antiderivative \( F(x) \) (red line).
  Move the slider to see how the constant \( C \) changes the vertical position of \( F(x) \).
</div>

<div id="box"></div>

<div id="controls">
  <label for="sliderC">Constant C: </label>
  <input type="range" id="sliderC" min="-20" max="20" step="1" value="0" />
  <span id="labelC">0</span>
</div>

<!-- Quiz Section -->
<div id="quiz">
  <h3>Quiz Question</h3>
  <p>The function is f(x) = 2x + 1. An antiderivative is F(x) = xÂ² + x + C.<br>
  If C = 3, what is the value of F(2)?</p>
  
  <form id="quizForm">
    <label><input type="radio" name="answer" value="A"> A. 5</label><br>
    <label><input type="radio" name="answer" value="B"> B. 9</label><br>
    <label><input type="radio" name="answer" value="C"> C. 13</label><br>
    <label><input type="radio" name="answer" value="D"> D. 21</label><br><br>
    <button type="button" onclick="checkAnswer()">Check Answer</button>
  </form>
  
  <div id="result"></div>
</div>

<script>
  const board = JXG.JSXGraph.initBoard('box', {
    boundingbox: [-5, 30, 10, -10],
    axis: true,
    showNavigation: false,
    zoom: { wheel: false },
    pan: { enabled: false }
  });

  // Original function: f(x) = 2x + 1
  function f(x) {
    return 2 * x + 1;
  }

  // Antiderivative: F(x) = x^2 + x + C
  function F(x, C) {
    return x * x + x + C;
  }

  // Draw original function f(x)
  board.create('functiongraph', [f, -5, 10], {
    strokeColor: 'blue',
    strokeWidth: 2
  });

  let C = 0;
  const antiderivative = board.create('functiongraph', [
    function (x) { return F(x, C); }, -5, 10
  ], {
    strokeColor: 'red',
    strokeWidth: 2
  });

  // Connect HTML slider
  const sliderC = document.getElementById('sliderC');
  const labelC = document.getElementById('labelC');

  sliderC.addEventListener('input', () => {
    C = parseFloat(sliderC.value);
    labelC.textContent = C;

    // Update the function
    antiderivative.Y = function (x) {
      return F(x, C);
    };

    board.update();
  });

  // Quiz logic
  function checkAnswer() {
    const choices = document.getElementsByName('answer');
    let selected = null;
    for (const choice of choices) {
      if (choice.checked) {
        selected = choice.value;
        break;
      }
    }
    const result = document.getElementById('result');
    if (!selected) {
      result.textContent = "Please select an answer.";
      result.style.color = "black";
      return;
    }
    if (selected === "B") {
      result.textContent = "Correct! F(2) = 4 + 2 + 3 = 9.";
      result.style.color = "green";
    } else {
      result.textContent = "Incorrect. Try again!";
      result.style.color = "red";
    }
  }
</script>

</body>
</html>