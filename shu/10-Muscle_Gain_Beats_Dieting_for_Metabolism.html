<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Muscle vs Metabolism Interaction</title>
  <script src="https://cdn.jsdelivr.net/npm/jsxgraph/distrib/jsxgraphcore.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jsxgraph/distrib/jsxgraph.css" />
  <style>
    #jxgbox {
      width: 800px;
      height: 500px;
      border: 1px solid #ccc;
      margin-bottom: 20px;
    }
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      max-width: 900px;
    }
    .note {
      font-size: 14px;
      margin-top: 10px;
    }
    .highlight {
      color: green;
      font-weight: bold;
    }
    .warning {
      color: red;
      font-weight: bold;
    }
    .slider-container {
      margin-top: 15px;
      display: flex;
      gap: 30px;
      align-items: center;
    }
    label {
      font-weight: bold;
      margin-right: 8px;
    }
    input[type=range] {
      width: 300px;
    }
    .value-display {
      min-width: 40px;
      display: inline-block;
      text-align: right;
      font-family: monospace;
    }
  </style>
</head>
<body>

<h2>Why Muscle Gain Beats Dieting for Metabolism</h2>

<div id="jxgbox"></div>

<div class="slider-container">
  <div>
    <label for="dietSlider">Diet Impact Factor:</label>
    <input type="range" id="dietSlider" min="0.1" max="1" step="0.01" value="0.5" />
    <span id="dietValue" class="value-display">0.50</span>
  </div>
  <div>
    <label for="muscleSlider">Muscle Impact Factor:</label>
    <input type="range" id="muscleSlider" min="1" max="6" step="0.01" value="3" />
    <span id="muscleValue" class="value-display">3.00</span>
  </div>
</div>

<p class="note warning">Red curve: Dieting reduces metabolism, increases rebound risk</p>
<p class="note highlight">Green curve: Muscle gain boosts metabolism for long-term fat burn</p>
<p class="note">Muscle is the engine of metabolism, not a burden!</p>

<script>
  const board = JXG.JSXGraph.initBoard('jxgbox', {
    boundingbox: [0, 120, 10, 0],
    axis: true,
    grid: true,
    showNavigation: false
  });

  // Labels for axes
  board.create('text', [5, -10, 'Body Fat % / Weight'], { fixed: true, fontSize: 14 });
  board.create('text', [-1, 60, 'Basal Metabolic Rate (BMR)'], { fixed: true, fontSize: 14, rotation: -90 });

  // Initial slider values
  let dietImpact = parseFloat(document.getElementById('dietSlider').value);
  let muscleImpact = parseFloat(document.getElementById('muscleSlider').value);

  // Functions for metabolism curves
  function dietingMetabolism(x) {
    return 100 - dietImpact * x * x * 0.8;
  }

  function muscleMetabolism(x) {
    return 30 + muscleImpact * x * 10;
  }

  // Create curves
  const dietCurve = board.create('functiongraph', [dietingMetabolism, 0, 8], {
    strokeColor: 'red',
    strokeWidth: 3
  });

  const muscleCurve = board.create('functiongraph', [muscleMetabolism, 0, 8], {
    strokeColor: 'green',
    strokeWidth: 3
  });

  // Update function for slider input changes
  function updateCurves() {
    dietImpact = parseFloat(document.getElementById('dietSlider').value);
    muscleImpact = parseFloat(document.getElementById('muscleSlider').value);

    document.getElementById('dietValue').textContent = dietImpact.toFixed(2);
    document.getElementById('muscleValue').textContent = muscleImpact.toFixed(2);

    dietCurve.Y = function(x) {
      return 100 - dietImpact * x * x * 0.8;
    };
    muscleCurve.Y = function(x) {
      return 30 + muscleImpact * x * 10;
    };

    dietCurve.updateCurve();
    muscleCurve.updateCurve();
    board.update();
  }

  document.getElementById('dietSlider').addEventListener('input', updateCurves);
  document.getElementById('muscleSlider').addEventListener('input', updateCurves);

  updateCurves();
</script>

</body>
</html>